    ---
layout: portfolio
title:  "IFP"
subtitle: "Un accompagnement sur la durée"
category: portfolio
completed: False
lang: french
ref: ifp
logo_repeats_title: True
logo: ifp.png
has_details: True
---

<summary>
    <span>Institut de formation politique - Janvier 2020 - <b>Présent</b> - Paris</span>
    <aside>PHP · Laravel · Dusk · Linux · MySQL · Recueil du besoin · Refactoring · Squelette</aside>
    <p>
        Reprise d’une application PHP/Laravel obsolète et délaissée depuis plusieurs années, de gestion de campagnes de dons pour des associations. Duplication du projet, assainissement du code et correction à chaud de bugs bloquants. Stratégies de contournement des problèmes les plus coûteux à résoudre. Sécurisation du Legacy derrière un VPN.
    </p>
    <p><b>Actuellement :</b> Développement de nouvelles fonctionnalités sur un projet propre, routage entre les deux composants et Strangler Pattern.</p>
</summary>

<h3>Un projet en deshérence</h3>

<p>
    Le projet est un outil de gestion de dons, fait sur-mesure pour coller au workflow très spécifique du client. Basé sur Laravel 5, celui-ci a été livré en 2015, puis maintenu un certain temps par son créateur. Celui-ci n'a pas écrit de tests sur ce projet, pourtant d'une complexité conséquente. La suite de l'histoire est hélas classique : sans tests, impossible de s'assurer de l'absence de régressions. Sans cette sécurité, la moindre mise à jour, la moindre évolution et même le moindre débug deviennent des tâches fastidieuses à l'issue incertaine.
</p>
<p>
    Le développeur d'origine quitte le projet quelque part à la fin de la décennie 2010. Sans tests et sans son concepteur, le projet devient un Code Legacy : personne n'ose le mettre à jour de peur de le casser. Les défauts qui se révèlent ne sont corrigés qu'à minima par un développeur bénévole. Arrive l'année 2020, où l'IFP fait appel à l'Atelier Logiciel Sandré pour reprendre en main le projet. La priorité est la correction des bugs les plus urgents.
</p>

<h3>Une longue convalescence</h3>

<div class="row">
    <p class="col-md-4 col-xs-12 col-sm-6">
        <img src="/resources/images/portfolio/IFP-diagramme.png" class="rounded img-fluid" />
    </p>
    <div class="col-md-8 col-xs-12 col-sm-6 gx-5">
        <p>
            Une fois les voies d'eau les plus urgentes colmatées, le projet est assaini et intégré à un pipeline d'Intégration Continue. D'abord réalisée en tant que bonne pratique, cette intégration s'avère rapidement utile afin de dupliquer le projet pour une autre association-soeur. Un rapport sur l'état du projet est produit, afin que le client réalise l'ampleur des travaux à effectuer pour remettre le projet sur les rails. Une stratégie de long-cours est choisie : l'existant restera en l'état, c'est-à-dire non testé et obsolète, mais les nouvelles fonctionnalités devront bénéficier des meilleures pratiques et d'un environnement technique récent.
        </p>

        <p>
            Après 2 ans à maintenir le projet, un nouveau besoin apparaît. Celui-ci entraîne la création d'un nouveau projet Laravel, récent celui-ci. Le nouveau projet est réalisé selon les règles de l'art : test-first, intégration continue, one-button-deployment, etc. Une variante du Strangler Pattern utilisant Apache comme routeur est utilisée. Lorsqu'une URL existe sur le nouveau projet, celui-ci répond. Sinon la même URL est demandée à l'ancien code. Petit à petit, des fonctionnalités sont "volées" à l'ancien code et reproduites sur le nouveau.
        </p>

        <p>
            La route est encore longue, mais la reprise du développement augure un bel avenir à un logiciel incapable d'évoluer avant sa reprise. D'autres fonctionnalités sont prévues. Elles nécessiteront le transfert d'autres morceaux de code vers le nouveau projet. Progressivement et par contagion, tout le code sera testé, donc testable, donc maintenable. Mon but est de pouvoir un jour tirer ma révérence.
        </p>
    </div>
</div>